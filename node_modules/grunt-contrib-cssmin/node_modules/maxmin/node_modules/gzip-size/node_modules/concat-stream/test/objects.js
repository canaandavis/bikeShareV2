var concat=require("../"),test=require("tape");test("writing objects",function(e){function n(t){e.equal(t.length,2),e.deepEqual(t[0],{foo:"bar"}),e.deepEqual(t[1],{baz:"taco"})}var t=concat({encoding:"objects"},n);t.write({foo:"bar"}),t.write({baz:"taco"}),t.end(),e.end()}),test("switch to objects encoding if no encoding specified and objects are written",function(e){function n(t){e.equal(t.length,2),e.deepEqual(t[0],{foo:"bar"}),e.deepEqual(t[1],{baz:"taco"})}var t=concat(n);t.write({foo:"bar"}),t.write({baz:"taco"}),t.end(),e.end()});