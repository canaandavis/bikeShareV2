"use strict";var zlib=require("zlib");exports.async=!0,exports.run=function(e,t,n){var r=zlib.createDeflate({level:t}),i=[],s=0;r.on("error",function(e){r.removeAllListeners(),r=null,n(e)}),r.on("data",function(e){i.push(e),s+=e.length}),r.on("end",function(){r.removeAllListeners(),r=null;var e=Buffer.concat(i);n(null)}),r.write(e.buffer),r.end()};