var path=require("path"),UrlRewriter=require("./url-rewriter");module.exports=function(t,n){var r=function(e){var r={absolute:!!t.root,relative:!t.root&&!!t.target,fromBase:t.relativeTo};return!r.absolute&&!r.relative?e:(r.absolute&&!!t.target&&n.warnings.push("Both 'root' and output file given so rebasing URLs as absolute paths"),r.absolute&&(r.toBase=path.resolve(t.root)),r.relative&&(r.toBase=path.resolve(path.dirname(t.target))),!r.fromBase||!r.toBase?e:UrlRewriter.process(e,r))};return{process:r}};