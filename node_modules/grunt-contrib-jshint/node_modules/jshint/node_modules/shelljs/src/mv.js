function _mv(e,t,n){e=common.parseOptions(e,{f:"force"}),arguments.length<3?common.error("missing <source> and/or <dest>"):arguments.length>3?(t=[].slice.call(arguments,1,arguments.length-1),n=arguments[arguments.length-1]):typeof t=="string"?t=[t]:"length"in t?t=t:common.error("invalid arguments"),t=common.expand(t);var r=fs.existsSync(n),i=r&&fs.statSync(n);(!r||!i.isDirectory())&&t.length>1&&common.error("dest is not a directory (too many sources)"),r&&i.isFile()&&!e.force&&common.error("dest file already exists: "+n),t.forEach(function(t){if(!fs.existsSync(t)){common.error("no such file or directory: "+t,!0);return}var r=n;fs.existsSync(n)&&fs.statSync(n).isDirectory()&&(r=path.normalize(n+"/"+path.basename(t)));if(fs.existsSync(r)&&!e.force){common.error("dest file already exists: "+r,!0);return}if(path.resolve(t)===path.dirname(path.resolve(r))){common.error("cannot move to self: "+t,!0);return}fs.renameSync(t,r)})}var fs=require("fs"),path=require("path"),common=require("./common");module.exports=_mv;