exports.removeSubsets=function(e){var t=e.length,n,r,i;while(--t>-1){n=r=e[t],e[t]=null,i=!0;while(r){if(e.indexOf(r)>-1){i=!1,e.splice(t,1);break}r=r.parent}i&&(e[t]=n)}return e};var POSITION={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},comparePos=exports.compareDocumentPosition=function(e,t){var n=[],r=[],i,s,o,u,a,f;if(e===t)return 0;i=e;while(i)n.unshift(i),i=i.parent;i=t;while(i)r.unshift(i),i=i.parent;f=0;while(n[f]===r[f])f++;return f===0?POSITION.DISCONNECTED:(s=n[f-1],o=s.children,u=n[f],a=r[f],o.indexOf(u)>o.indexOf(a)?s===t?POSITION.FOLLOWING|POSITION.CONTAINED_BY:POSITION.FOLLOWING:s===e?POSITION.PRECEDING|POSITION.CONTAINS:POSITION.PRECEDING)};exports.uniqueSort=function(e){var t=e.length,n,r;e=e.slice();while(--t>-1)n=e[t],r=e.indexOf(n),r>-1&&r<t&&e.splice(t,1);return e.sort(function(e,t){var n=comparePos(e,t);return n&POSITION.PRECEDING?-1:n&POSITION.FOLLOWING?1:0}),e};